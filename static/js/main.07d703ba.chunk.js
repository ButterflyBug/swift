(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{156:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(12),o=n.n(i),c=(n(77),n(22)),s=n(23),u=n(26),l=n(24),d=n(27),h=n(25),m=n(28),f=n.n(m),p=n(41),y=n.n(p),v=n(71),E=n.n(v),T=n(11),A=n.n(T),N=n(7),C=n.n(N),F=n(14),g=n.n(F),D=n(67),b=n.n(D),k=n(32),O=n.n(k),S=n(68),Y=n.n(S),w=n(70),J=n.n(w),x=n(13),j=n.n(x),M=(n(48),n(36),{type:"97",option:"A"}),B={type:"98",option:"A"},R={type:"19",option:"B"},V={20:"Sender's Reference","38J":"Client","83J":"Fund","30T":"Trade Date","30V":"Value Date",36:"Exchange Rate","32B":"Amount Bought","53A":"Delivery Agent","33B":"Amount Sold","58J":"Beneficiary Institution","92B":"Rate"},I={PAYD:"Payment Date/Time",VALU:"Value Date/Time",EARL:"Earliest Payment Date/Time",FXDT:"FX Rate Fixing Date/Time",ENTL:"Entitled Amount",TXFR:"Tax Free Amount",NETT:"Net Cash Amount"},P=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(A.a,{as:"dl"},this.renderAccountsNumber(),this.renderCurrencyField(),this.renderDates(),this.renderCustomField("83","J","Fund number",function(t){return e.getAccountNumberFromFin(t)}),this.renderCustomField("58","J","Nostro number",function(t){return e.getAccountNumberFromFin(t)}),this.renderField("92","B",function(t){return e.renderRate(t)}),this.renderField("20",void 0,function(e){return e.Value}),this.renderField("83","J",function(t){return e.renderIdentification(t["Party Identification"])}),this.renderField("30","T",function(t){return e.renderDate(t.Date)}),this.renderField("30","V",function(t){return e.renderDate(t.Date)}),this.renderField("36",void 0,function(t){return e.renderFloat(t.Rate)}),this.renderField("32","B",function(t){return e.renderCurrency(t.Amount,t.Currency)}),this.renderField("33","B",function(t){return e.renderCurrency(t.Amount,t.Currency)}),this.renderField("53","A",function(e){return e["Identifier Code"]}),this.renderField("58","J",function(t){return e.renderIdentification(t["Party Identification"])}))}},{key:"renderRate",value:function(e){return e["First Currency Code"]+"/"+e["Second Currency Code"]+" "+this.renderFloat(e.Rate)}},{key:"renderIdentification",value:function(e){return e.split("\n").map(function(e,t){return a.a.createElement("p",{key:t},e)})}},{key:"getAccountNumberFromFin",value:function(e){return e["Party Identification"].split("\n").find(function(e){return e.includes("ACCT/")}).split("/")[2]}},{key:"renderDate",value:function(e){var t=j()(e,"YYYYMMDD");return t.format("DD/MM/YYYY")+" ("+t.fromNow()+")"}},{key:"renderFloat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return parseFloat(e.replace(",",".")).toFixed(t)}},{key:"renderCurrency",value:function(e,t){return this.renderFloat(e)+" "+t}},{key:"renderCustomField",value:function(e,t,n,r){var a=this;return this.findType({type:e,option:t}).map(function(e){return a.renderType(n,r(e.ast))})}},{key:"renderField",value:function(e,t,n){var r=this;return this.findType({type:e,option:t}).map(function(a){return r.renderType(V[[e,t].join("")],n(a.ast))})}},{key:"renderCurrencyField",value:function(){var e=this;return this.findType(R).map(function(t){return e.renderType(t.ast.Qualifier,e.renderCurrency(t.ast.Amount,t.ast.Currency||t.ast["Currency Code"]))})}},{key:"renderDates",value:function(){var e=this;return this.findType(B).map(function(t){var n=j()(t.ast.Date,"YYYYMMDD");return e.renderType(t.ast.Qualifier,n.format("DD/MM/YYYY")+" ("+n.fromNow()+")")})}},{key:"renderAccountsNumber",value:function(){var e=this;return this.findType(M).map(function(t){return e.renderType("Account Number ("+t.ast.Qualifier+")",t.ast["Account Number"])})}},{key:"renderType",value:function(e,t){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Y.a,{placement:"left",overlay:a.a.createElement(J.a,null,I[e]||"No information")},a.a.createElement(C.a,{as:"dt",xs:5},e)),a.a.createElement(C.a,{as:"dd",xs:7},t))}},{key:"findType",value:function(e){var t=this.props.parsedSwift.block4;return t?t.filter(function(t){return t.type===e.type&&t.option===e.option}):[]}}]),t}(r.Component),W=n(33),X=n.n(W),L=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(A.a,{className:"center"},a.a.createElement(C.a,{md:"4",xs:4},a.a.createElement("strong",null,"What the order contains")),a.a.createElement(C.a,{xs:4},a.a.createElement(X.a,{className:"mr-sm-2",variant:"success"},"Valid"),a.a.createElement(X.a,{variant:"danger"},"Invalid")),a.a.createElement(C.a,{xs:4},a.a.createElement("strong",null,"What it should be"))),a.a.createElement("hr",{className:"col-xs-12"}),a.a.createElement(A.a,null,this.validateNettAmount(),this.validatePstaAmount(),this.validateValueDate(),this.validateTradeDate(),this.validateRate(),this.validateFundAccount(),this.validateNostoAccount()))}},{key:"validateFundAccount",value:function(){var e=this.findType(this.props.orderJSON,"97","A","SAFE")[0],t=this.findType(this.props.transactionJSON,"83","J")[0];if(e&&t){var n=this.getAccountNumberFromFin(t.ast),r=e.ast["Account Number"],a=this.props.accounts.find(function(e){return r.includes(e.account)})||{fund:"Unknow number"},i=a.fund===n;return this.renderType("Fund Account Number",r,a.fund,i)}}},{key:"validateNostoAccount",value:function(){var e=this.findType(this.props.orderJSON,"97","A","SAFE")[0],t=this.findType(this.props.transactionJSON,"58","J")[0];if(e&&t){var n=this.getAccountNumberFromFin(t.ast),r=e.ast["Account Number"],a=this.props.accounts.find(function(e){return r.includes(e.account)})||{nostro:"Unknow number"},i=a.nostro===n;return this.renderType("Nostro Account Number","",a.nostro,i)}}},{key:"getAccountNumberFromFin",value:function(e){return e["Party Identification"].split("\n").find(function(e){return e.includes("ACCT/")}).split("/")[2]}},{key:"validateRate",value:function(){var e=this.findType(this.props.orderJSON,"92","B","EXCH")[0],t=this.findType(this.props.transactionJSON,"36")[0],n=this.findType(this.props.transactionJSON,"32","B")[0],r=this.findType(this.props.transactionJSON,"33","B")[0];if(t&&n&&r&&e){n=this.renderFloat(n.ast.Amount),r=this.renderFloat(r.ast.Amount),t=this.renderFloat(t.ast.Rate),e=this.renderFloat(e.ast.Rate);var a=(r/n).toFixed(2);return this.renderType("Rate",e,t+" (Calculated: "+a+")",t===e)}}},{key:"validateTradeDate",value:function(){var e=this.findType(this.props.orderJSON,"98","A","VALU")[0],t=this.findType(this.props.transactionJSON,"30","T")[0];if(e&&t){e=e.ast,t=t.ast;var n=j()(e.Date,"YYYYMMDD"),r=j()(e.Date,"YYYYMMDD");j()().isAfter(n)||(r=j()());var a=r.format("YYYYMMDD")===t.Date;return this.renderType("Trade Date",this.renderDate(n),this.renderDate(r),a)}}},{key:"validateValueDate",value:function(){var e=this.findType(this.props.orderJSON,"98","A","VALU")[0],t=this.findType(this.props.transactionJSON,"30","V")[0];if(e&&t){e=e.ast,t=t.ast;var n=j()(e.Date,"YYYYMMDD"),r=n.format("YYYYMMDD")===t.Date;return this.renderType("Value Date",this.renderDate(n),this.renderDate(j()(t.Date,"YYYYMMDD")),r)}}},{key:"validatePstaAmount",value:function(){var e=this.findType(this.props.orderJSON,"19","B","PSTA")[0],t=this.findType(this.props.transactionJSON,"32","B")[0];if(e&&t)return e=e.ast,t=t.ast,this.renderAmountValidator(e,t,"Buy Currency Amount")}},{key:"validateNettAmount",value:function(){var e=this.findType(this.props.orderJSON,"19","B","NETT")[0],t=this.findType(this.props.transactionJSON,"33","B")[0];if(e&&t)return e=e.ast,t=t.ast,this.renderAmountValidator(e,t,"Sell Currency Amount")}},{key:"renderAmountValidator",value:function(e,t,n){var r=this.renderFloat(e.Amount)===this.renderFloat(t.Amount)&&e["Currency Code"]===t.Currency;return this.renderType(n,this.renderCurrency(e),this.renderCurrency(t),r)}},{key:"renderCurrency",value:function(e){return this.renderFloat(e.Amount)+" "+(e.Currency||e["Currency Code"])}},{key:"renderFloat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return parseFloat(e.replace(",",".")).toFixed(t)}},{key:"renderDate",value:function(e){return e.format("DD/MM/YYYY")+" ("+e.fromNow()+")"}},{key:"renderType",value:function(e,t,n,r){var i=r?"success":"danger";return a.a.createElement(a.a.Fragment,null,a.a.createElement(C.a,{className:"justify-content-center",xs:4},t),a.a.createElement(C.a,{className:"justify-content-center",xs:4},a.a.createElement(X.a,{variant:i},e)),a.a.createElement(C.a,{className:"justify-content-center",xs:4},n))}},{key:"findType",value:function(e,t,n,r){var a=e.block4;return a&&a.filter(function(e){return e.type===t&&e.option===n&&e.ast.Qualifier===r})||[]}}]),t}(r.Component),U=new b.a,Q="F01TESTBIC12XXX0360105154\nO5641057130214TESTBIC34XXX26264938281302141757N\n108:2RDRQDHM3WO",G=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={orderJSON:{},transactionJSON:{},accounts:[]},n.onOrderChange=n.onOrderChange.bind(Object(d.a)(n)),n.onTransactionChange=n.onTransactionChange.bind(Object(d.a)(n)),n.onAccountChange=n.onAccountChange.bind(Object(d.a)(n)),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"onOrderChange",value:function(e){var t=e.target.value;this.setState({orderJSON:this.parse(t)})}},{key:"onTransactionChange",value:function(e){var t=e.target.value;this.setState({transactionJSON:this.parse(t)})}},{key:"onAccountChange",value:function(e){var t=e.target.value.split("\n").map(function(e){var t=e.split(","),n=(t[1]||"").slice(0,-5)+"5-000";return{account:t[0],fund:n,nostro:t[2]}});this.setState({accounts:t})}},{key:"tryParse",value:function(e){var t=(e=(e=e.replace(/\n{2,}/g,"\n")).replace(/ :/g,"\n:")).split("\n"),n="{1:"+t[0]+"}",r="{2:"+t[1]+"}",a="{3:{"+t[2]+"}}",i="{4:\n"+t.slice(3).join("\n")+"\n-}";return U.parse(n+r+a+i)}},{key:"parse",value:function(e){try{return U.parse(e)}catch(t){try{return this.tryParse(e)}catch(t){try{return this.tryParse(Q+e)}catch(t){try{return this.tryParse(Q+":\n"+e)}catch(t){return t.message}}}}}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(f.a,{bg:"dark",variant:"dark",className:"mb-2"},a.a.createElement(f.a.Brand,{href:"#home"},"Swift Validator"),a.a.createElement(f.a.Collapse,{id:"basic-navbar-nav"},a.a.createElement(y.a,{className:"mr-auto"},a.a.createElement(y.a.Link,{href:"./static.html"},"Static Version"))),a.a.createElement(f.a.Collapse,{className:"justify-content-end"},a.a.createElement(f.a.Text,null,"Version: ",a.a.createElement("strong",null,"9397047")))),a.a.createElement(E.a,{className:"mb-0"},a.a.createElement(A.a,null,a.a.createElement(C.a,null,a.a.createElement(g.a,null,a.a.createElement(g.a.Group,{controlId:"exampleForm.ControlTextarea1"},a.a.createElement(g.a.Control,{placeholder:"Swift order",as:"textarea",rows:"20",onChange:this.onOrderChange})))),a.a.createElement(C.a,null,a.a.createElement(g.a,null,a.a.createElement(g.a.Group,{controlId:"exampleForm.ControlTextarea1"},a.a.createElement(g.a.Control,{placeholder:"Swift transaction",as:"textarea",rows:"20",onChange:this.onTransactionChange}))))),a.a.createElement(A.a,null,a.a.createElement(C.a,{xs:12},a.a.createElement(L,{orderJSON:this.state.orderJSON,transactionJSON:this.state.transactionJSON,accounts:this.state.accounts}))),a.a.createElement("hr",{className:"col-xs-12"}),a.a.createElement(A.a,null,a.a.createElement(C.a,{xs:6},a.a.createElement(P,{parsedSwift:this.state.orderJSON})),a.a.createElement(C.a,{xs:6},a.a.createElement(P,{parsedSwift:this.state.transactionJSON}))),a.a.createElement(A.a,null,a.a.createElement(C.a,{xs:6},a.a.createElement(O.a,{data:this.state.orderJSON})),a.a.createElement(C.a,{xs:6},a.a.createElement(O.a,{data:this.state.transactionJSON}))),a.a.createElement(A.a,null,a.a.createElement(C.a,null,a.a.createElement(g.a,null,a.a.createElement(g.a.Group,{controlId:"exampleForm.ControlTextarea1"},a.a.createElement(g.a.Control,{placeholder:"Accounts",as:"textarea",rows:"5",onChange:this.onAccountChange}))))),a.a.createElement(A.a,null,a.a.createElement(C.a,null,a.a.createElement(O.a,{data:this.state.accounts})))))}}]),t}(r.Component),H=(n(154),n(155),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function $(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(a.a.createElement(G,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat(".","/service-worker.js");H?(function(e,t){fetch(e).then(function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):$(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):$(t,e)})}}()},36:function(e,t,n){},72:function(e,t,n){e.exports=n(156)},77:function(e,t,n){}},[[72,1,2]]]);
//# sourceMappingURL=main.07d703ba.chunk.js.map